{
  "fileName": "Dockerfile.release.adoptjdk",
  "filePath": "docker/release/Dockerfile.release.adoptjdk",
  "url": "https://github.com/oxygenium/oxygenium/docker/release/Dockerfile.release.adoptjdk",
  "summary": "This Dockerfile is used to build a Docker image for the Oxygenium project. The image is based on the `adoptopenjdk:11-jre` image and includes the Oxygenium binary (`oxygenium-${RELEASE}.jar`) downloaded from the Oxygenium GitHub releases page. \n\nThe Dockerfile sets up the necessary directories for the Oxygenium binary to run, including creating a home directory for the `nobody` user, which is the user that the Oxygenium binary will run as. The Dockerfile also copies a configuration file (`user-mainnet-release.conf`) to the `nobody` user's home directory, which is used to configure the Oxygenium binary at runtime. \n\nThe Dockerfile exposes several ports that the Oxygenium binary uses to communicate with other nodes on the network. These ports include `12973` for HTTP, `11973` for WebSocket, `10973` for the miner, and `9973` for P2P communication. \n\nThe Dockerfile also sets up two volumes for the `nobody` user's home directory, one for the Oxygenium data directory (`/oxygenium-home/.oxygenium`) and one for the Oxygenium wallets directory (`/oxygenium-home/.oxygenium-wallets`). These volumes allow the user to persist data and wallets across container restarts. \n\nFinally, the Dockerfile sets several environment variables (`JAVA_NET_OPTS`, `JAVA_MEM_OPTS`, `JAVA_GC_OPTS`, and `JAVA_EXTRA_OPTS`) that can be used to configure the Java runtime environment that the Oxygenium binary runs in. \n\nOverall, this Dockerfile is used to build a Docker image that can be used to run an Oxygenium node. The image includes the Oxygenium binary, sets up the necessary directories and configuration files, and exposes the necessary ports for the node to communicate with other nodes on the network. The volumes allow the user to persist data and wallets across container restarts, and the environment variables allow the user to configure the Java runtime environment. \n\nExample usage:\n\n```\ndocker build -t oxygenium-node .\ndocker run -d -p 12973:12973 -p 11973:11973 -p 10973:10973 -p 9973:9973 -v /path/to/data:/oxygenium-home/.oxygenium -v /path/to/wallets:/oxygenium-home/.oxygenium-wallets oxygenium-node\n```",
  "questions": "1. What is the purpose of this Dockerfile?\n   \n   This Dockerfile is used to build a Docker image for the Oxygenium project, which includes downloading the Oxygenium jar file, setting up directories and permissions, exposing ports, and setting environment variables.\n\n2. What is the significance of the ARG and ENV statements?\n   \n   The ARG statement defines a build-time variable called RELEASE, which is used to specify the version of the Oxygenium jar file to download. The ENV statements define environment variables that can be used by the Java runtime, such as JAVA_NET_OPTS, JAVA_MEM_OPTS, JAVA_GC_OPTS, and JAVA_EXTRA_OPTS.\n\n3. What is the purpose of the entrypoint.sh script?\n   \n   The entrypoint.sh script is the command that is executed when the Docker container is started. In this case, it sets up the Java runtime environment and starts the Oxygenium jar file with the user-defined configuration file."
}