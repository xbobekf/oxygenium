{
  "folderName": "nat",
  "folderPath": ".autodoc/docs/json/flow/src/main/scala/org/alephium/flow/network/nat",
  "url": "https://github.com/alephium/alephium/.autodoc/docs/json/flow/src/main/scala/org/alephium/flow/network/nat",
  "files": [
    {
      "fileName": "Upnp.scala",
      "filePath": "flow/src/main/scala/org/alephium/flow/network/nat/Upnp.scala",
      "url": "https://github.com/alephium/alephium/flow/src/main/scala/org/alephium/flow/network/nat/Upnp.scala",
      "summary": "This code defines a module for managing UPnP (Universal Plug and Play) port mappings. UPnP is a protocol that allows devices to discover and communicate with each other on a network. This module provides functionality for discovering UPnP gateway devices on a network and adding or deleting port mappings on those devices.\n\nThe `Upnp` object defines constants and methods for discovering UPnP gateway devices and creating an `UpnpClient` instance to manage port mappings. The `getUpnpClient` method takes an `UpnpSettings` object as input and returns an `Option[UpnpClient]`. This method first sets the HTTP read timeout and discovery timeout based on the settings provided. It then creates a `GatewayDiscover` instance and uses it to discover UPnP gateway devices on the network. If a valid gateway device is found, a new `UpnpClient` instance is created and returned. If no valid gateway device is found, `None` is returned.\n\nThe `UpnpClient` class represents a UPnP gateway device and provides methods for adding and deleting port mappings. The `addPortMapping` method takes an external port number and an internal port number as input and returns a `Boolean` indicating whether the port mapping was successfully added. This method uses the `GatewayDevice` instance associated with the `UpnpClient` to add port mappings for both TCP and UDP protocols. The `deletePortMapping` method takes an external port number as input and returns a `Boolean` indicating whether the port mapping was successfully deleted. This method uses the `GatewayDevice` instance associated with the `UpnpClient` to delete port mappings for both TCP and UDP protocols.\n\nOverall, this module provides a way for the Alephium project to manage UPnP port mappings on a network. This could be useful for allowing external clients to connect to the Alephium network without requiring manual port forwarding on the router. For example, a user could run an Alephium node on their home network and use UPnP to automatically configure their router to allow incoming connections to the node.",
      "questions": "1. What is the purpose of this code?\n    \n    This code is a part of the alephium project and it provides functionality for mapping external ports to internal ports using UPnP protocol.\n\n2. What is the license for this code?\n    \n    This code is licensed under the GNU Lesser General Public License version 3 or later.\n\n3. What is the role of the `UpnpClient` class?\n    \n    The `UpnpClient` class provides methods for adding and deleting port mappings using a `GatewayDevice` object that represents a UPnP gateway device."
    }
  ],
  "folders": [],
  "summary": "The `Upnp.scala` module in the Alephium project provides functionality for managing UPnP (Universal Plug and Play) port mappings, which enables devices on a network to discover and communicate with each other. This module is particularly useful for allowing external clients to connect to the Alephium network without requiring manual port forwarding on the router.\n\nThe module consists of the `Upnp` object and the `UpnpClient` class. The `Upnp` object defines constants and methods for discovering UPnP gateway devices and creating an `UpnpClient` instance to manage port mappings. The `getUpnpClient` method takes an `UpnpSettings` object as input and returns an `Option[UpnpClient]`. It sets the HTTP read timeout and discovery timeout based on the provided settings, discovers UPnP gateway devices on the network, and returns a new `UpnpClient` instance if a valid gateway device is found.\n\n```scala\nval upnpSettings = UpnpSettings(readTimeout = 5000, discoveryTimeout = 10000)\nval upnpClientOption = Upnp.getUpnpClient(upnpSettings)\n```\n\nThe `UpnpClient` class represents a UPnP gateway device and provides methods for adding and deleting port mappings. The `addPortMapping` method takes an external port number and an internal port number as input and returns a `Boolean` indicating whether the port mapping was successfully added. It uses the `GatewayDevice` instance associated with the `UpnpClient` to add port mappings for both TCP and UDP protocols.\n\n```scala\nval externalPort = 12345\nval internalPort = 54321\nval success = upnpClient.addPortMapping(externalPort, internalPort)\n```\n\nThe `deletePortMapping` method takes an external port number as input and returns a `Boolean` indicating whether the port mapping was successfully deleted. It uses the `GatewayDevice` instance associated with the `UpnpClient` to delete port mappings for both TCP and UDP protocols.\n\n```scala\nval externalPort = 12345\nval success = upnpClient.deletePortMapping(externalPort)\n```\n\nIn the context of the Alephium project, this module can be used to automatically configure a user's router to allow incoming connections to an Alephium node running on their home network. This simplifies the process of setting up a node and makes it more accessible to users who may not be familiar with manual port forwarding.",
  "questions": ""
}