{
  "folderName": "service",
  "folderPath": ".autodoc/docs/json/wallet/src/main/scala/org/alephium/wallet/service",
  "url": "https://github.com/alephium/alephium/.autodoc/docs/json/wallet/src/main/scala/org/alephium/wallet/service",
  "files": [
    {
      "fileName": "WalletService.scala",
      "filePath": "wallet/src/main/scala/org/alephium/wallet/service/WalletService.scala",
      "url": "https://github.com/alephium/alephium/wallet/src/main/scala/org/alephium/wallet/service/WalletService.scala",
      "summary": "The `WalletService` is a core component of the Alephium project that provides functionalities for managing wallets, addresses, and transactions. It is designed to interact with the Alephium blockchain and perform various wallet-related operations.\n\nThe service allows users to create and restore wallets using mnemonics and passwords. It supports locking and unlocking wallets, deleting wallets, and listing all available wallets. Users can also retrieve wallet balances, addresses, and address information.\n\nFor transaction management, the service provides methods to transfer assets between addresses, sweep assets from active or all addresses, and sign data using wallet private keys. It also supports deriving new addresses and miner addresses, changing the active address, and revealing the mnemonic of a wallet.\n\nThe `WalletService` interacts with the `BlockFlowClient` to fetch balance and transaction-related information from the Alephium blockchain. It also uses the `SecretStorage` to securely store and manage wallet secrets, such as private keys and mnemonics.\n\nHere's an example of creating a new wallet:\n\n```scala\nval walletService: WalletService = ...\nval (walletName, mnemonic) = walletService.createWallet(\n  password = \"password123\",\n  mnemonicSize = Mnemonic.Size._12,\n  isMiner = false,\n  walletName = \"myWallet\",\n  mnemonicPassphrase = None\n).getOrElse(throw new Exception(\"Failed to create wallet\"))\n```\n\nAnd an example of transferring assets between addresses:\n\n```scala\nval transferResult = walletService.transfer(\n  wallet = walletName,\n  destinations = AVector(Destination(address, amount)),\n  gas = None,\n  gasPrice = None,\n  utxosLimit = None\n).getOrElse(throw new Exception(\"Failed to transfer assets\"))\n```\n\nOverall, the `WalletService` plays a crucial role in managing wallets and transactions in the Alephium project, providing a high-level interface for users to interact with the Alephium blockchain.",
      "questions": "1. **Question**: What is the purpose of the `WalletService` trait and its methods?\n   **Answer**: The `WalletService` trait defines the interface for a wallet service in the Alephium project. It provides methods for creating, restoring, locking, unlocking, and deleting wallets, as well as methods for managing wallet addresses, balances, transactions, and signing data.\n\n2. **Question**: How does the wallet locking mechanism work in this implementation?\n   **Answer**: The wallet locking mechanism is implemented using a `Timer` and `TimerTask`. When a wallet is unlocked, a timer task is scheduled to lock the wallet after a specified `lockingTimeout`. If the wallet is accessed before the timeout, the timer task is canceled and rescheduled, effectively resetting the timeout.\n\n3. **Question**: What is the purpose of the `buildMinerAddresses` and `buildMinerPrivateKeys` methods in the `Impl` class?\n   **Answer**: The `buildMinerAddresses` method takes a vector of `ExtendedPrivateKey` instances and groups them by their corresponding group index, creating a vector of address information for each group. The `buildMinerPrivateKeys` method uses the `buildMinerAddresses` method to create a flat vector of `ExtendedPrivateKey` instances, ordered by their group index. These methods are used to manage miner addresses and private keys in the wallet service."
    }
  ],
  "folders": [],
  "summary": "The `WalletService.scala` file is a crucial part of the Alephium project, providing a high-level interface for users to manage wallets, addresses, and transactions on the Alephium blockchain. It interacts with the `BlockFlowClient` to fetch balance and transaction-related information and uses the `SecretStorage` to securely store and manage wallet secrets, such as private keys and mnemonics.\n\nThe `WalletService` allows users to create and restore wallets using mnemonics and passwords. It supports various wallet-related operations, such as locking and unlocking wallets, deleting wallets, and listing all available wallets. Users can also retrieve wallet balances, addresses, and address information.\n\nFor transaction management, the service provides methods to transfer assets between addresses, sweep assets from active or all addresses, and sign data using wallet private keys. It also supports deriving new addresses and miner addresses, changing the active address, and revealing the mnemonic of a wallet.\n\nHere's an example of creating a new wallet:\n\n```scala\nval walletService: WalletService = ...\nval (walletName, mnemonic) = walletService.createWallet(\n  password = \"password123\",\n  mnemonicSize = Mnemonic.Size._12,\n  isMiner = false,\n  walletName = \"myWallet\",\n  mnemonicPassphrase = None\n).getOrElse(throw new Exception(\"Failed to create wallet\"))\n```\n\nAnd an example of transferring assets between addresses:\n\n```scala\nval transferResult = walletService.transfer(\n  wallet = walletName,\n  destinations = AVector(Destination(address, amount)),\n  gas = None,\n  gasPrice = None,\n  utxosLimit = None\n).getOrElse(throw new Exception(\"Failed to transfer assets\"))\n```\n\nIn summary, the `WalletService.scala` file plays a vital role in the Alephium project by providing a user-friendly interface for managing wallets and transactions. It interacts with other components of the project, such as the `BlockFlowClient` and `SecretStorage`, to ensure secure and efficient operations on the Alephium blockchain.",
  "questions": ""
}